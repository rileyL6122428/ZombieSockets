{"version":3,"sources":["webpack/bootstrap eca809ded09dd7adaeff","./client/canvas_render_script.js","./client/game_logic/game_script.js","./client/matchmaking_logic/matchmaking_script.js","./client/matchmaking_logic/utils/mm_renderer.js","./client/matchmaking_logic/utils/mm_data_store.js","./client/matchmaking_logic/utils/mm_input_handler.js","./client/general_utils/constants.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,gCAA+B,6BAA6B,EAAE;;;AAG9D;AACA;AACA;AACA,EAAC;;;;;;;ACnCD;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAI;;;;;;;AC1BJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;;;;;;ACrBA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,sBAAqB,SAAS;AAC9B,wBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpDA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;AC1BA;AACA,oBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA,0BAAyB,cAAc,EAAE;;AAEzC;AACA;AACA;AACA,IAAG;;AAEH;AACA,6BAA4B,iBAAiB;AAC7C,IAAG;;AAEH;AACA;AACA;;AAEA,kCAAiC,eAAe;AAChD;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAiB,yBAAyB;AAC1C;AACA;AACA;AACA;AACA;AACA,yBAAwB,4BAA4B;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA,6BAA4B,mBAAmB;AAC/C;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,6BAA4B,gDAAgD;AAC5E;;;;;;;ACrEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB,eAAe;AACrC,uBAAsB,gBAAgB","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap eca809ded09dd7adaeff\n **/","var canvas = document.getElementById(\"canvas\");\nvar ctx = canvas.getContext(\"2d\");\nvar sock = io();\nvar GameScript = require('./game_logic/game_script.js');\nvar MMScript   = require('./matchmaking_logic/matchmaking_script.js');\nvar Constants = require('./general_utils/constants');\n\nConstants.initDimensions(canvas);\n\nsock.on('To Matchmaking', runMatchMaking);\nvar matchmakingIntervalID;\nfunction runMatchMaking() {\n  // if(gameIntervalID) {\n    // clearInterval(gameIntervalID);\n  // }\n  MMScript.init(sock);\n  matchmakingIntervalID = MMScript.run(ctx);\n}\n\n\n// NOTE DO NOT DELETE THE FOLLOWING!!!\n// sock.on('To Game', runGame);\n// var gameIntervalID;\n// function runGame() {\n//   clearInterval(matchmakingIntervalID);\n//   GameScript.init();\n//   gameIntervalID = GameScript.run();\n// }\n\nsock.on('game entered', () => { console.log(\"entered game\"); });\n\n\nwindow.addEventListener(\"beforeunload\", (e) => {\n  // TODO CLEAR INTERVALS\n  clearInterval(matchmakingIntervalID);\n});\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/canvas_render_script.js\n ** module id = 0\n ** module chunks = 0\n **/","var GameScript = {\n\n};\n\nmodule.exports = GameScript;\n\n// var ctx = canvas.getContext('2d');\n// var halfWidth = (canvas.clientWidth - 30) / 2;\n// var halfHeight = (canvas.clientHeight - 30) / 2;\n\n// var socketInitializer = require('./utils/socket_initializer.js');\n// var inputHandler = require('./utils/player_input_handler.js');\n// var GameRenderer = require('./rendering/game_renderer.js');\n// var MatchmakingRenderer = require('./rendering/matchmaking_renderer.js');\n\n// var playerPositions = [[0, 0], [0, 0]];\n\n// socketInitializer.initializeSockets(sock, playerPositions);\n// GameRenderer.setSocketListeners(sock);\n// inputHandler.registerGameOverCB(sock);\n\n// var renderID = setInterval(function() {\n  // if(GameRenderer.readyToRender()) {\n    // GameRenderer.renderCanvasEl(ctx, playerPositions, halfWidth, halfHeight, sock);\n    // inputHandler.handleInput(sock);\n  // }\n// }, 1000/30);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/game_logic/game_script.js\n ** module id = 1\n ** module chunks = 0\n **/","var Renderer = require('./utils/mm_renderer.js');\nvar Store = require('./utils/mm_data_store.js');\nvar InputHandler = require('./utils/mm_input_handler.js');\nvar sock;\n\nvar MatchmakingScript = {\n  init: function (s) {\n    Store.initialzeDataReceivers(s);\n    InputHandler.init(s);\n  },\n\n  run: function (ctx) {\n    var intervalId = setInterval(function() {\n      Renderer.render(ctx);\n      InputHandler.handleInput();\n    }, 1000 / 30);\n\n    return intervalId;\n  }\n};\n\nmodule.exports = MatchmakingScript;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/matchmaking_logic/matchmaking_script.js\n ** module id = 2\n ** module chunks = 0\n **/","var Store = require('./mm_data_store.js');\nvar InputHandler = require('./mm_input_handler.js');\nvar Constants = require('../../general_utils/constants');\n\nvar MatchmakingRenderer = {\n  render: function (ctx) {\n    ctx.clearRect(0, 0, Constants.CANVAS_WIDTH(), Constants.CANVAS_HEIGHT());\n    ctx.fillStyle = \"black\"\n\n    drawPlayerWaitingDisplay(ctx);\n\n    for (var row = 0; row < 2; row++) {\n      for (var col = 0; col < 2; col++) {\n        drawGameButton(ctx, row, col);\n      }\n    }\n  }\n};\n\nfunction drawPlayerWaitingDisplay(ctx) {\n  ctx.font = \"22px serif\";\n  ctx.fillText(\"Players Waiting: \" + Store.waitingPlayerTotal(), 70, 50);\n}\n\nfunction drawGameButton(ctx, row, col) {\n  var gameNum = 1 + row * 2 + col;\n  var drawX = col * 210 + 30;\n  var drawY = row * 150 + 100;\n\n  ctx.font = \"22px serif\";\n  ctx.fillText(\"Game \" + gameNum, drawX, drawY);\n\n  drawCursor(gameNum, drawX, drawY, ctx);\n\n  ctx.font = \"17px serif\";\n  ctx.fillText(\n    \"Players: \" + Store.getGamePlayerTotal(gameNum - 1),\n    drawX,\n    drawY + 20\n  );\n}\n\nfunction drawCursor(gameNum, drawX, drawY, ctx) {\n  if(gameNum - 1 === InputHandler.selectedGameIdx()) {\n    ctx.beginPath();\n    ctx.moveTo(drawX + 80, drawY);\n    ctx.lineTo(drawX + 95, drawY + 10);\n    ctx.lineTo(drawX + 95, drawY - 10);\n    ctx.fill();\n  }\n}\n\nmodule.exports = MatchmakingRenderer;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/matchmaking_logic/utils/mm_renderer.js\n ** module id = 3\n ** module chunks = 0\n **/","// DATA WE NEED TO STORE\n// 1) PLAYER TOTALS\n// 2) Zombie TOTAL / per game\n// 3) Human Total / per game\n// 4) Game start time, or last endtime\n// 5) number of players waiting\n\nvar _data = {};\n\nmodule.exports = {\n  initialzeDataReceivers: function (sock) {\n    sock.on('mm update', receiveData);\n  },\n\n  waitingPlayerTotal: function() {\n    return _data.waitingPlayerTotal\n  },\n\n  getGamePlayerTotal: function (idx) {\n    return _data.playerTotals[idx];\n  }\n};\n\nfunction receiveData(data) {\n  debugger\n  _data = data;\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/matchmaking_logic/utils/mm_data_store.js\n ** module id = 4\n ** module chunks = 0\n **/","var _cursorPos = [0,0];\nvar _gameTotal = 4; //NOTE Consider having this val initialized by server\n                    //     so that you don't have to manually set it\nvar _readyToMoveCursor = true;\nvar _readyToChooseGame = true;\nvar _sock;\n\nmodule.exports = {\n  init: function (sock) { _sock = sock; },\n\n  handleInput: function () {\n    this.handleCursorScroll();\n    this.handleGameSelection();\n  },\n\n  handleCursorScroll: function() {\n    if(_readyToMoveCursor) { scrollOnInput(); }\n  },\n\n  handleGameSelection: function() {\n    var idx = this.selectedGameIdx();\n    if(key.isPressed('enter') && _readyToChooseGame) {\n\n      _sock.emit('select game', { gameIdx: idx });\n      _readyToChooseGame = false;\n    }\n  },\n\n  selectedGameIdx: function () {\n    return _cursorPos[0] * Math.floor(_gameTotal / 2) + _cursorPos[1];\n  }\n}\n\nvar direcsAndCBs = [\n  [\"right\", scrollRight],\n  [\"left\", scrollLeft],\n  [\"up\", scrollUp],\n  [\"down\", scrollDown]\n];\n\nfunction scrollOnInput() {\n  for (var i = 0; i < direcsAndCBs.length; i++) {\n    var direction = direcsAndCBs[i][0];\n    var cb = direcsAndCBs[i][1];\n    if(key.isPressed(direction)) {\n      cb();\n      _readyToMoveCursor = false;\n      setTimeout(() => { _readyToMoveCursor = true }, 150);\n      break;\n    }\n  }\n}\n\nfunction scrollRight() {\n  _cursorPos[1] = (_cursorPos[1] - 1) % Math.floor(_gameTotal / 2);\n  if(_cursorPos[1] === -1) { _cursorPos[1] = 1; }\n}\n\nfunction scrollLeft() {\n  _cursorPos[1] = (_cursorPos[1] + 1) % Math.floor(_gameTotal / 2);\n}\n\nfunction scrollUp() {\n  _cursorPos[0] = (_cursorPos[0] + 1) % 2;\n}\n\nfunction scrollDown() {\n  _cursorPos[0] = (_cursorPos[0] - 1) % 2;\n  if(_cursorPos[0] === -1) { _cursorPos[0] = Math.floor(_gameTotal / 2) - 1; }\n}\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/matchmaking_logic/utils/mm_input_handler.js\n ** module id = 5\n ** module chunks = 0\n **/","var _width;\nvar _height;\n\nmodule.exports = {\n  CANVAS_WIDTH: getWidth,\n  CANVAS_HEIGHT: getHeight,\n  \n  initDimensions: function(c) {\n    _width = c.width;\n    _height = c.height;\n  }\n};\n\nfunction getWidth()  { return _width;  }\nfunction getHeight() { return _height; }\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./client/general_utils/constants.js\n ** module id = 6\n ** module chunks = 0\n **/"],"sourceRoot":""}